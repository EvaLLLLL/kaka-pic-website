{"version":3,"sources":["pages/Login.js"],"names":["Wrapper","styled","div","Title","h1","StyledNavLink","NavLink","SignUp","span","layout","labelCol","wrapperCol","tailLayout","offset","Component","AuthStore","useStores","history","useHistory","name","onFinish","values","setUsername","username","setPassword","password","login","then","alert","push","catch","onFinishFailed","errorInfo","console","log","Item","label","rules","required","message","validator","rule","value","test","Promise","reject","length","resolve","min","max","Password","type","htmlType","to"],"mappings":"6vBAMA,IAAMA,EAAUC,IAAOC,IAAV,KAMPC,EAAQF,IAAOG,GAAV,KAMLC,EAAgBJ,YAAOK,IAAPL,CAAH,KAGbM,EAASN,IAAOO,KAAV,KAKNC,EAAS,CACdC,SAAU,CACTF,KAAM,GAEPG,WAAY,CACXH,KAAM,KAGFI,EAAa,CAClBD,WAAY,CACXE,OAAQ,EACRL,KAAM,KAwFOM,UApFG,WAAO,IACjBC,EAAaC,cAAbD,UACDE,EAAUC,cAyBhB,OACC,kBAAClB,EAAD,KACC,kBAACG,EAAD,qBACA,kBAAC,IAAD,iBACKM,EADL,CAECU,KAAK,QACLC,SA7Bc,SAACC,GACjBN,EAAUO,YAAYD,EAAOE,UAC7BR,EAAUS,YAAYH,EAAOI,UAC7BV,EAAUW,QACRC,MAAK,WACLC,MAAM,4BACNX,EAAQY,KAAK,QAEbC,OAAM,WACNF,MAAM,gCAqBNG,eAlBoB,SAACC,GACvBC,QAAQC,IAAI,UAAWF,MAmBrB,kBAAC,IAAKG,KAAN,CACCC,MAAM,qBACNjB,KAAK,WACLkB,MAAO,CACN,CACCC,UAAU,EACVC,QAAS,wCAEV,CACCC,UA1BmB,SAACC,EAAMC,GAC/B,MAAI,KAAKC,KAAKD,GACNE,QAAQC,OAAO,oGACnBH,EAAMI,OAAS,EAAUF,QAAQC,OAAO,wEACxCH,EAAMI,OAAS,GAAWF,QAAQC,OAAO,yEACtCD,QAAQG,cAyBZ,kBAAC,IAAD,OAED,kBAAC,IAAKZ,KAAN,CACCC,MAAM,eACNjB,KAAK,WACLkB,MAAO,CACN,CACCC,UAAU,EACVC,QAAS,kCAEV,CACCS,IAAK,EACLT,QAAS,iDAEV,CACCU,IAAK,GACLV,QAAS,wCAIX,kBAAC,IAAMW,SAAP,OAED,kBAAC,IAAKf,KAASvB,EACd,kBAAC,IAAD,CAAQuC,KAAK,UAAUC,SAAS,UAAhC,gBAGA,kBAAC7C,EAAD,sCACC,kBAACF,EAAD,CAAegD,GAAG,aAAlB","file":"static/js/12.0180f129.chunk.js","sourcesContent":["import React from 'react'\nimport styled from 'styled-components'\nimport {Form, Input, Button} from 'antd'\nimport {useStores} from '../stores'\nimport {NavLink, useHistory} from 'react-router-dom'\n\nconst Wrapper = styled.div`\n  max-width: 600px;\n  margin: 30px auto;\n  border: 2px solid #eee;\n  border-radius: 20px;\n`\nconst Title = styled.h1`\n\tpadding: 10px;\n  text-align: center;\n  margin-bottom: 30px;\n  border-bottom: 2px dashed #eee;\n`\nconst StyledNavLink = styled(NavLink)`\n\tcolor: #1a90ff;\n`\nconst SignUp = styled.span`\n\tfont-size: 12px;\n\tfont-weight: normal;\n\tmargin-left: 30px;\n`\nconst layout = {\n\tlabelCol: {\n\t\tspan: 8,\n\t},\n\twrapperCol: {\n\t\tspan: 12,\n\t},\n}\nconst tailLayout = {\n\twrapperCol: {\n\t\toffset: 8,\n\t\tspan: 12,\n\t},\n}\n\nconst Component = () => {\n\tconst {AuthStore} = useStores()\n\tconst history = useHistory()\n\t\n\tconst onFinish = (values) => {\n\t\tAuthStore.setUsername(values.username)\n\t\tAuthStore.setPassword(values.password)\n\t\tAuthStore.login()\n\t\t\t.then(() => {\n\t\t\t\talert('登录成功')\n\t\t\t\thistory.push('/')\n\t\t\t})\n\t\t\t.catch(() => {\n\t\t\t\talert('登录失败')\n\t\t\t})\n\t}\n\tconst onFinishFailed = (errorInfo) => {\n\t\tconsole.log('Failed:', errorInfo)\n\t}\n\tconst validateUsername = (rule, value) => {\n\t\tif (/\\W/.test(value))\n\t\t\treturn Promise.reject('不能出现字母数字下划线以外的字符')\n\t\tif (value.length < 3) return Promise.reject('用户名字符长度不能小于 3')\n\t\tif (value.length > 10) return Promise.reject('用户名字符长度不能大于 10')\n\t\treturn Promise.resolve()\n\t}\n\t\n\treturn (\n\t\t<Wrapper>\n\t\t\t<Title>登录</Title>\n\t\t\t<Form\n\t\t\t\t{...layout}\n\t\t\t\tname=\"basic\"\n\t\t\t\tonFinish={onFinish}\n\t\t\t\tonFinishFailed={onFinishFailed}\n\t\t\t>\n\t\t\t\t<Form.Item\n\t\t\t\t\tlabel=\"用户名\"\n\t\t\t\t\tname=\"username\"\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: '请输入用户名',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvalidator: validateUsername,\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Input/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item\n\t\t\t\t\tlabel=\"密码\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\trules={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmessage: '请输入密码',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmin: 4,\n\t\t\t\t\t\t\tmessage: '至少需要 4 个字符',\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmax: 10,\n\t\t\t\t\t\t\tmessage: '最长 10 个字符',\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Input.Password/>\n\t\t\t\t</Form.Item>\n\t\t\t\t<Form.Item {...tailLayout}>\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\n\t\t\t\t\t\t登录\n\t\t\t\t\t</Button>\n\t\t\t\t\t<SignUp>还没账号？\n\t\t\t\t\t\t<StyledNavLink to=\"/register\">去注册</StyledNavLink>\n\t\t\t\t\t</SignUp>\n\t\t\t\t</Form.Item>\n\t\t\t</Form>\n\t\t</Wrapper>\n\t)\n}\n\nexport default Component\n"],"sourceRoot":""}